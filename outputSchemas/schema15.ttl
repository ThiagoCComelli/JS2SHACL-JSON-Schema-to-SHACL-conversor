@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix dash: <http://datashapes.org/dash#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix ex: <http://example.org/> .

ex:directPosition_Shape a sh:NodeShape;
  sh:targetClass ex:directPosition;
    sh:node dash:ListShape;
    sh:property [
      sh:path ([sh:zeroOrMorePath rdf:rest] rdf:first);
      sh:datatype xsd:decimal;
    ].

ex:point_Shape a sh:NodeShape;
  sh:targetClass ex:point;
  sh:property [
    sh:path ex:type;
    sh:in (Point);
    sh:minCount 1;
  ];
  sh:property [
    sh:path ex:coordinates;
    sh:node ex:directPosition_Shape;
    sh:minCount 1;
  ].

ex:lineString_Shape a sh:NodeShape;
  sh:targetClass ex:lineString;
  sh:property [
    sh:path ex:type;
    sh:in (LineString);
    sh:minCount 1;
  ];
  sh:property [
    sh:path ex:coordinates;
    sh:node dash:ListShape;
    sh:property [
      sh:path ([sh:zeroOrMorePath rdf:rest] rdf:first);
      sh:datatype ex:directPosition_Shape;
    ];
    sh:minCount 1;
  ].

ex:polygon_Shape a sh:NodeShape;
  sh:targetClass ex:polygon;
  sh:property [
    sh:path ex:type;
    sh:in (Polygon);
    sh:minCount 1;
  ];
  sh:property [
    sh:path ex:coordinates;
    sh:node dash:ListShape;
    sh:property [
      sh:path ([sh:zeroOrMorePath rdf:rest] rdf:first);
      sh:datatype ex:obj1_Shape;
    ];
    sh:minCount 1;
  ].

ex:multiPoint_Shape a sh:NodeShape;
  sh:targetClass ex:multiPoint;
  sh:property [
    sh:path ex:type;
    sh:in (MultiPoint);
    sh:minCount 1;
  ];
  sh:property [
    sh:path ex:coordinates;
    sh:node dash:ListShape;
    sh:property [
      sh:path ([sh:zeroOrMorePath rdf:rest] rdf:first);
      sh:datatype ex:directPosition_Shape;
    ];
    sh:minCount 1;
  ].

ex:multiLineString_Shape a sh:NodeShape;
  sh:targetClass ex:multiLineString;
  sh:property [
    sh:path ex:type;
    sh:in (MultiLineString);
    sh:minCount 1;
  ];
  sh:property [
    sh:path ex:coordinates;
    sh:node dash:ListShape;
    sh:property [
      sh:path ([sh:zeroOrMorePath rdf:rest] rdf:first);
      sh:datatype ex:lineString_Shape;
    ];
    sh:minCount 1;
  ].

ex:multiPolygon_Shape a sh:NodeShape;
  sh:targetClass ex:multiPolygon;
  sh:property [
    sh:path ex:type;
    sh:in (MultiPolygon);
    sh:minCount 1;
  ];
  sh:property [
    sh:path ex:coordinates;
    sh:node dash:ListShape;
    sh:property [
      sh:path ([sh:zeroOrMorePath rdf:rest] rdf:first);
      sh:datatype ex:polygon_Shape;
    ];
    sh:minCount 1;
  ].

ex:geometryCollection_Shape a sh:NodeShape;
  sh:targetClass ex:geometryCollection;
  sh:property [
    sh:path ex:type;
    sh:in (GeometryCollection);
    sh:minCount 1;
  ];
  sh:property [
    sh:path ex:geometries;
    sh:node dash:ListShape;
    sh:property [
      sh:path ([sh:zeroOrMorePath rdf:rest] rdf:first);
      sh:datatype ex:obj2_Shape;
    ];
    sh:minCount 1;
  ].

ex:feature_Shape a sh:NodeShape;
  sh:targetClass ex:feature;
  sh:property [
    sh:path ex:type;
    sh:in (Feature);
    sh:minCount 1;
  ];
  sh:property [
    sh:path ex:geometry;
    sh:node ex:geometry_Shape;
    sh:minCount 1;
  ];
  sh:property [
    sh:path ex:properties;
    sh:or (
      ex:hsProperties_shape
      ex:nbProperties_shape
      ex:stProperties_shape
      ex:psProperties_shape
      ex:scProperties_shape
    );
  ];

ex:featureCollection_Shape a sh:NodeShape;
  sh:targetClass ex:featureCollection;
  sh:property [
    sh:path ex:type;
    sh:in (FeatureCollection);
    sh:minCount 1;
  ];
  sh:property [
    sh:path ex:features;
    sh:node dash:ListShape;
    sh:property [
      sh:path ([sh:zeroOrMorePath rdf:rest] rdf:first);
      sh:datatype ex:feature_Shape;
    ];
    sh:minCount 1;
  ].

ex:hsProperties_Shape a sh:NodeShape;
  sh:targetClass ex:hsProperties;
  sh:property [
    sh:path ex:ADDRESS;
    sh:datatype xsd:string;
    sh:description "teste aqui para tentar";
    sh:minCount 1;
  ];
  sh:property [
    sh:path ex:CATEGORIA;
    sh:datatype xsd:string;
  ];
  sh:property [
    sh:path ex:CDL;
    sh:datatype xsd:integer;
  ];
  sh:property [
    sh:path ex:CLASSIFICA;
    sh:datatype xsd:string;
  ];
  sh:property [
    sh:path ex:CNES;
    sh:datatype xsd:integer;
  ];
  sh:property [
    sh:path ex:CITY;
    sh:datatype xsd:string;
    sh:minCount 1;
  ];
  sh:property [
    sh:path ex:COUNTRY;
    sh:datatype xsd:string;
  ];
  sh:property [
    sh:path ex:DESCRIPTION;
    sh:datatype xsd:string;
  ];
  sh:property [
    sh:path ex:DISTRITO;
    sh:datatype xsd:string;
  ];
  sh:property [
    sh:path ex:FINAL;
    sh:or (
      [
        sh:datatype xsd:integer;
      ]
      [
        sh:datatype xsd:null;
      ]
    );
  ];
  sh:property [
    sh:path ex:GERENCIA;
    sh:datatype xsd:string;
  ];
  sh:property [
    sh:path ex:INICIAL;
    sh:or (
      [
        sh:datatype xsd:integer;
      ]
      [
        sh:datatype xsd:null;
      ]
    );
  ];
  sh:property [
    sh:path ex:NAME;
    sh:datatype xsd:string;
    sh:minCount 1;
  ];
  sh:property [
    sh:path ex:PREPOSI;
    sh:datatype xsd:null;
  ];
  sh:property [
    sh:path ex:SERVICES;
    sh:datatype xsd:string;
  ];
  sh:property [
    sh:path ex:STATE;
    sh:datatype xsd:string;
    sh:minCount 1;
  ];
  sh:property [
    sh:path ex:TIPO;
    sh:datatype xsd:string;
  ];
  sh:property [
    sh:path ex:timestamp;
    sh:datatype xsd:null;
  ];
  sh:property [
    sh:path ex:addrtype;
    sh:datatype xsd:string;
    sh:minCount 1;
  ];
  sh:property [
    sh:path ex:addrlocat;
    sh:datatype xsd:string;
    sh:minCount 1;
  ].

ex:nbProperties_Shape a sh:NodeShape;
  sh:targetClass ex:nbProperties.

ex:stProperties_Shape a sh:NodeShape;
  sh:targetClass ex:stProperties.

ex:psProperties_Shape a sh:NodeShape;
  sh:targetClass ex:psProperties.

ex:scProperties_Shape a sh:NodeShape;
  sh:targetClass ex:scProperties.

ex:JS_id_Shape a sh:NodeShape;
  sh:targetClass ex:JS_id;
  sh:property [
    sh:path ex:healthServices;
    sh:node dash:ListShape;
    sh:property [
      sh:path ([sh:zeroOrMorePath rdf:rest] rdf:first);
      sh:datatype ex:feature_Shape;
    ];
    sh:minCount 1;
  ];
  sh:property [
    sh:path ex:neighbourhoods;
    sh:node dash:ListShape;
    sh:property [
      sh:path ([sh:zeroOrMorePath rdf:rest] rdf:first);
      sh:datatype ex:feature_Shape;
    ];
  ];
  sh:property [
    sh:path ex:streets;
    sh:node dash:ListShape;
    sh:property [
      sh:path ([sh:zeroOrMorePath rdf:rest] rdf:first);
      sh:datatype ex:feature_Shape;
    ];
  ];
  sh:property [
    sh:path ex:policeStations;
    sh:node dash:ListShape;
    sh:property [
      sh:path ([sh:zeroOrMorePath rdf:rest] rdf:first);
      sh:datatype ex:feature_Shape;
    ];
  ];
  sh:property [
    sh:path ex:schools;
    sh:node dash:ListShape;
    sh:property [
      sh:path ([sh:zeroOrMorePath rdf:rest] rdf:first);
      sh:datatype ex:feature_Shape;
    ];
  ].

ex:obj1_Shape a sh:NodeShape;
  sh:targetClass ex:obj1;
    sh:node dash:ListShape;
    sh:property [
      sh:path ([sh:zeroOrMorePath rdf:rest] rdf:first);
      sh:datatype ex:directPosition_Shape;
    ];

ex:obj2_Shape a sh:NodeShape;
  sh:targetClass ex:obj2;
  sh:or (
    ex:point_shape
    ex:lineString_shape
    ex:polygon_shape
    ex:multiPoint_shape
    ex:multiLineString_shape
    ex:multiPolygon_shape
  );

ex:geometry_Shape a sh:NodeShape;
  sh:targetClass ex:geometry.
